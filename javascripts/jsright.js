$.fn.tableOfContents=function(e){var t="<a href='#top'>Back to Top</a>",n="<h2 class='toc_header'><a name='toc'>Table of Contents</a></h2>",r="<ul id='toc'></ul>",i=[];this.append(t),e.after(n),e.next(".toc_header").after(r),this.find("h2").each(function(){var e=$(this).text(),t=e.trim().toLowerCase().replace(" ","_"),n="<a name='"+t+"'/>",r=$("<a href='#'>(hide)</a>");r.on("click",function(e){$(this).siblings("p").toggle();var t=r.text(),n=t==="(hide)"?"(show)":"(hide)";r.text(n),e.preventDefault()}),$(this).after(r),$(this).before(n),i+="<li><a href='#"+t+"'>"+e+"</a></li>"}),$("#toc").append(i)},$(function(){$("div.article").tableOfContents($("h1.jsright-header"))});